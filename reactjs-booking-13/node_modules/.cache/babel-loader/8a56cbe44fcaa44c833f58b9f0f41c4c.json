{"ast":null,"code":"import { SIGN_IN } from \"../constants/user.constant\";\nimport axios from \"axios\";\n\nconst signInAction = user => {\n  return {\n    type: SIGN_IN,\n    payload: user\n  };\n};\n\nexport const signInApi = (user, history) => {\n  return dispatch => {\n    axios({\n      method: \"POST\",\n      url: \"https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/DangNhap\",\n      data: user\n    }).then(res => {\n      console.log(res);\n      dispatch(signInAction(res.data)); // lưu xuống localstorage\n\n      localStorage.setItem(\"userLogin\", JSON.stringify(res.data)); // chuyen trang\n      // history.push(\"/\");\n      // chuyển lại trang trước đó\n\n      history.goBack();\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};","map":{"version":3,"sources":["/Users/mac/Downloads/reactjs-booking-13/src/redux/actions/user.action.js"],"names":["SIGN_IN","axios","signInAction","user","type","payload","signInApi","history","dispatch","method","url","data","then","res","console","log","localStorage","setItem","JSON","stringify","goBack","catch","err"],"mappings":"AAAA,SAASA,OAAT,QAAwB,4BAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACA,MAAMC,YAAY,GAAIC,IAAD,IAAU;AAC7B,SAAO;AACLC,IAAAA,IAAI,EAAEJ,OADD;AAELK,IAAAA,OAAO,EAAEF;AAFJ,GAAP;AAID,CALD;;AAOA,OAAO,MAAMG,SAAS,GAAG,CAACH,IAAD,EAAOI,OAAP,KAAmB;AAC1C,SAAQC,QAAD,IAAc;AACnBP,IAAAA,KAAK,CAAC;AACJQ,MAAAA,MAAM,EAAE,MADJ;AAEJC,MAAAA,GAAG,EAAE,iEAFD;AAGJC,MAAAA,IAAI,EAAER;AAHF,KAAD,CAAL,CAKGS,IALH,CAKSC,GAAD,IAAS;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAL,MAAAA,QAAQ,CAACN,YAAY,CAACW,GAAG,CAACF,IAAL,CAAb,CAAR,CAFa,CAGb;;AACAK,MAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAeN,GAAG,CAACF,IAAnB,CAAlC,EAJa,CAKb;AACA;AACA;;AACAJ,MAAAA,OAAO,CAACa,MAAR;AACD,KAdH,EAeGC,KAfH,CAeUC,GAAD,IAAS;AACdR,MAAAA,OAAO,CAACC,GAAR,CAAYO,GAAZ;AACD,KAjBH;AAkBD,GAnBD;AAoBD,CArBM","sourcesContent":["import { SIGN_IN } from \"../constants/user.constant\";\r\nimport axios from \"axios\";\r\nconst signInAction = (user) => {\r\n  return {\r\n    type: SIGN_IN,\r\n    payload: user,\r\n  };\r\n};\r\n\r\nexport const signInApi = (user, history) => {\r\n  return (dispatch) => {\r\n    axios({\r\n      method: \"POST\",\r\n      url: \"https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/DangNhap\",\r\n      data: user,\r\n    })\r\n      .then((res) => {\r\n        console.log(res);\r\n        dispatch(signInAction(res.data));\r\n        // lưu xuống localstorage\r\n        localStorage.setItem(\"userLogin\", JSON.stringify(res.data));\r\n        // chuyen trang\r\n        // history.push(\"/\");\r\n        // chuyển lại trang trước đó\r\n        history.goBack();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}